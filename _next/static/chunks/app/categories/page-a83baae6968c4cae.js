(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[379],{816:(e,s,t)=>{"use strict";t.d(s,{ExpenseProvider:()=>n,F:()=>i});var l=t(5155),a=t(2115);let r=(0,a.createContext)(void 0);function i(){let e=(0,a.useContext)(r);if(!e)throw Error("useExpenses must be used within an ExpenseProvider");return e}function n(e){let{children:s}=e,[t,i]=(0,a.useState)([]),[n,c]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=localStorage.getItem("expenses");if(e)try{i(JSON.parse(e))}catch(e){console.error("Error parsing stored expenses:",e)}c(!1)},[]),(0,a.useEffect)(()=>{n||localStorage.setItem("expenses",JSON.stringify(t))},[t,n]),(0,l.jsx)(r.Provider,{value:{expenses:t,addExpense:function(e){i(s=>[...s,e])},updateExpense:function(e){i(s=>s.map(s=>s.id===e.id?e:s))},deleteExpense:function(e){i(s=>s.filter(s=>s.id!==e))},loading:n},children:s})}},9137:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var l=t(5155),a=t(816),r=t(2115);let i=[{id:"housing",name:"Жилье",emoji:"\uD83C\uDFE0",color:"bg-orange-100"},{id:"food",name:"Питание",emoji:"\uD83C\uDF4E",color:"bg-green-100"},{id:"transportation",name:"Транспорт",emoji:"\uD83D\uDE97",color:"bg-blue-100"},{id:"utilities",name:"Коммунальные услуги",emoji:"⚡",color:"bg-purple-100"},{id:"entertainment",name:"Развлечения",emoji:"\uD83C\uDFAC",color:"bg-pink-100"},{id:"healthcare",name:"Медицина",emoji:"\uD83C\uDFE5",color:"bg-red-100"},{id:"personal",name:"Личные расходы",emoji:"\uD83D\uDC64",color:"bg-indigo-100"},{id:"other",name:"Другое",emoji:"\uD83D\uDCE6",color:"bg-gray-100"}];function n(){let{expenses:e}=(0,a.F)(),[s,t]=(0,r.useState)("all"),n=(()=>{let t={},l=[...e];if("month"===s){let s=new Date,t=s.getMonth(),a=s.getFullYear();l=e.filter(e=>{let s=new Date(e.date);return s.getMonth()===t&&s.getFullYear()===a})}else if("year"===s){let s=new Date().getFullYear();l=e.filter(e=>new Date(e.date).getFullYear()===s)}return l.forEach(e=>{t[e.category]||(t[e.category]=0),t[e.category]+=e.amount}),t})(),c=Object.values(n).reduce((e,s)=>e+s,0),d=e=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}).format(e),m=e=>0===c?0:Math.round(e/c*100);return(0,l.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Категории расходов"}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold",children:"Распределение по категориям"}),(0,l.jsx)("div",{className:"flex",children:(0,l.jsxs)("select",{value:s,onChange:e=>t(e.target.value),className:"ml-2 p-2 border border-gray-300 rounded-md text-sm",children:[(0,l.jsx)("option",{value:"all",children:"За все время"}),(0,l.jsx)("option",{value:"month",children:"За текущий месяц"}),(0,l.jsx)("option",{value:"year",children:"За текущий год"})]})})]}),(0,l.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:c>0?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(e=>{let s=n[e.id]||0,t=m(s);return(0,l.jsxs)("div",{className:"".concat(e.color," p-4 rounded-lg"),children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("span",{className:"text-2xl mr-2",children:e.emoji}),(0,l.jsx)("span",{className:"font-medium",children:e.name})]}),(0,l.jsx)("span",{className:"font-semibold",children:d(s)})]}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,l.jsx)("div",{className:"bg-blue-600 h-4",style:{width:"".concat(t,"%")}})}),(0,l.jsxs)("div",{className:"mt-1 text-sm text-gray-600 text-right",children:[t,"% от общей суммы"]})]},e.id)})}),(0,l.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,l.jsxs)("div",{className:"flex justify-between items-center text-lg",children:[(0,l.jsx)("span",{className:"font-medium",children:"Общая сумма расходов:"}),(0,l.jsx)("span",{className:"font-bold",children:d(c)})]})})]}):(0,l.jsx)("div",{className:"py-8 text-center text-gray-500",children:"Пока нет расходов. Добавьте расходы, чтобы увидеть распределение по категориям."})})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Советы по категориям"}),(0,l.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,l.jsxs)("ul",{className:"space-y-4",children:[(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"text-xl mr-2",children:"\uD83D\uDCA1"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:"Жилье"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Рассмотрите возможность переговоров об арендной плате или рефинансирования ипотеки для снижения ежемесячных расходов."})]})]}),(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"text-xl mr-2",children:"\uD83D\uDCA1"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:"Питание"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Планирование питания и приготовление блюд оптом может значительно снизить расходы на питание."})]})]}),(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"text-xl mr-2",children:"\uD83D\uDCA1"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:"Транспорт"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Рассмотрите возможность совместных поездок, общественного транспорта или велосипеда для экономии на транспортных расходах."})]})]}),(0,l.jsxs)("li",{className:"flex items-start",children:[(0,l.jsx)("span",{className:"text-xl mr-2",children:"\uD83D\uDCA1"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:"Коммунальные услуги"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Энергоэффективные приборы и разумные привычки использования могут снизить ваши счета за коммунальные услуги."})]})]})]})})]})]})}},9585:(e,s,t)=>{Promise.resolve().then(t.bind(t,9137))}},e=>{var s=s=>e(e.s=s);e.O(0,[441,684,358],()=>s(9585)),_N_E=e.O()}]);